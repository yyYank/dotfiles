---
name: review-infra
description: インフラ構成・IaCコードのレビュー。セキュリティ、可用性、コスト最適化の観点を重視。
---

# Infrastructure Review

インフラ構成・IaCコードのレビューを行います。

## レビュー観点

### セキュリティ
- 最小権限の原則
- ネットワークセグメンテーション
- セキュリティグループ/ファイアウォール設定
- シークレット管理
- 暗号化設定（転送中/保存時）
- IAMポリシーの適切さ

### 可用性・信頼性
- マルチAZ/マルチリージョン構成
- オートスケーリング設定
- ヘルスチェック設定
- バックアップ戦略
- 障害時のフェイルオーバー

### コスト最適化
- リソースサイズの適切さ
- リザーブドインスタンス/スポットインスタンスの活用
- 不要リソースの検出
- コストタグ付け

### IaCベストプラクティス
- モジュール化
- 変数の適切な使用
- 環境分離（dev/stg/prod）
- State管理
- ドリフト検出

### 運用性
- ログ・メトリクス収集
- アラート設定
- デプロイ戦略（Blue-Green, Canary等）
- ロールバック手順

### Kubernetes（該当する場合）
- リソース制限（CPU/Memory）
- Probe設定
- Pod Security
- NetworkPolicy

## 出力形式

レビュー結果は以下の形式で出力してください：

```
## 概要
[全体的な評価]

## 指摘事項

### [重要度: 高/中/低] [カテゴリ]
- リソース: [リソース種別/名前]
- 問題: [問題の説明]
- 提案: [改善案]
- 参考: [AWSドキュメント等へのリンク]

## 良い点
[構成の良い点があれば記載]
```
