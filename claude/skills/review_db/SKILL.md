# Database Review

データベース設計・SQLクエリのレビューを行います。

## レビュー観点

### スキーマ設計
- 正規化レベルの適切さ
- テーブル名・カラム名の命名規則
- 主キー・外部キーの設計
- 適切なデータ型の選択
- NOT NULL制約、デフォルト値の設定

### インデックス
- クエリパターンに対する適切なインデックス
- 複合インデックスのカラム順序
- 不要なインデックスの有無
- カバリングインデックスの活用

### SQLクエリ
- 実行計画の確認
- N+1問題の検出
- サブクエリ vs JOIN の選択
- LIMIT/OFFSETの適切な使用
- ロック範囲の最小化

### データ整合性
- トランザクション境界の適切さ
- 分離レベルの選択
- デッドロックの可能性
- 楽観的/悲観的ロックの選択

### マイグレーション
- 後方互換性
- ロールバック可能性
- 大規模テーブルへの影響

## 出力形式

レビュー結果は以下の形式で出力してください：

```
## 概要
[全体的な評価]

## 指摘事項

### [重要度: 高/中/低] [カテゴリ]
- 対象: [テーブル名/クエリ]
- 問題: [問題の説明]
- 提案: [改善案]
- 参考: [関連するベストプラクティスへのリンク等]

## 良い点
[設計の良い点があれば記載]
```
